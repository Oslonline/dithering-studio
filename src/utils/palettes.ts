// Predefined color palettes
export interface PaletteDef {
  id: string;
  name: string;
  colors: [number, number, number][];
}

export const predefinedPalettes: PaletteDef[] = [
  {
    id: "gb",
    name: "Game Boy (4)",
    colors: [
      [15, 56, 15],
      [48, 98, 48],
      [139, 172, 15],
      [155, 188, 15],
    ],
  },
  {
    id: "nes",
    name: "NES (54 approx)",
    colors: [
      [124,124,124],[0,0,252],[0,0,188],[68,40,188],[148,0,132],[168,0,32],[168,16,0],[136,20,0],[80,48,0],[0,120,0],[0,104,0],[0,88,0],[0,64,88],[0,0,0],
      [188,188,188],[0,120,248],[0,88,248],[104,68,252],[216,0,204],[228,0,88],[248,56,0],[228,92,16],[172,124,0],[0,184,0],[0,168,0],[0,168,68],[0,136,136],[0,0,0],
      [248,248,248],[60,188,252],[104,136,252],[152,120,248],[248,120,248],[248,88,152],[248,120,88],[252,160,68],[248,184,0],[184,248,24],[88,216,84],[88,248,152],[0,232,216],[120,120,120],
      [252,252,252],[164,228,252],[184,184,248],[216,184,248],[248,184,248],[248,164,192],[240,208,176],[252,224,168],[248,216,120],[216,248,120],[184,248,184],[184,248,216],[0,252,252],[248,248,248]
    ]
  },
  {
    id: "pico8",
    name: "PICO-8 (16)",
    colors: [
      [0,0,0],[29,43,83],[126,37,83],[0,135,81],[171,82,54],[95,87,79],[194,195,199],[255,241,232],[255,0,77],[255,163,0],[255,236,39],[0,228,54],[41,173,255],[131,118,156],[255,119,168],[255,204,170]
    ]
  },
  {
    id: "db16",
    name: "DawnBringer 16",
    colors: [
      [20,12,28],[68,36,52],[48,52,109],[78,74,78],[133,76,48],[52,101,36],[208,70,72],[117,113,97],[89,125,206],[210,125,44],[133,149,161],[109,170,44],[210,170,153],[109,194,202],[218,212,94],[222,238,214]
    ]
  },
  {
    id: "db32",
    name: "DawnBringer 32",
    colors: [
      [0,0,0],[34,32,52],[69,40,60],[102,57,49],[143,86,59],[223,113,38],[217,160,102],[238,195,154],[251,242,54],[153,229,80],[106,190,48],[55,148,110],[75,105,47],[82,75,36],[50,60,57],[63,63,116],
      [48,96,130],[91,110,225],[99,155,255],[95,205,228],[203,219,252],[255,255,255],[155,173,183],[132,126,135],[105,106,106],[89,86,82],[118,66,138],[172,50,50],[217,87,99],[215,123,186],[143,151,74],[138,111,48]
    ]
  },
  {
    id: "cga16",
    name: "CGA (16)",
    colors: [
      [0,0,0],[0,0,170],[0,170,0],[0,170,170],[170,0,0],[170,0,170],[170,85,0],[170,170,170],[85,85,85],[85,85,255],[85,255,85],[85,255,255],[255,85,85],[255,85,255],[255,255,85],[255,255,255]
    ]
  },
  {
    id: "ega16",
    name: "EGA (16)",
    colors: [
      [0,0,0],[0,0,170],[0,170,0],[0,170,170],[170,0,0],[170,0,170],[170,85,0],[170,170,170],[85,85,85],[85,85,255],[85,255,85],[85,255,255],[255,85,85],[255,85,255],[255,255,85],[255,255,255]
    ]
  },
  {
    id: "solarized",
    name: "Solarized (16)",
    colors: [
      [0,43,54],[7,54,66],[88,110,117],[101,123,131],[131,148,150],[147,161,161],[238,232,213],[253,246,227],[181,137,0],[203,75,22],[220,50,47],[211,54,130],[108,113,196],[38,139,210],[42,161,152],[133,153,0]
    ]
  },
  {
    id: "gray4",
    name: "Grayscale (4)",
    colors: [
      [0, 0, 0],
      [85, 85, 85],
      [170, 170, 170],
      [255, 255, 255],
    ],
  },
  {
    id: "gray8",
    name: "Grayscale (8)",
    colors: Array.from({ length: 8 }, (_, i) => {
      const v = Math.round((i / 7) * 255);
      return [v, v, v] as [number, number, number];
    }),
  },
  {
    id: "c64",
    name: "C64 (subset)",
    colors: [
      [0, 0, 0],
      [255, 255, 255],
      [136, 0, 0],
      [170, 255, 238],
      [204, 68, 204],
      [0, 204, 85],
      [0, 0, 170],
      [238, 238, 119],
      [221, 136, 85],
      [102, 68, 0],
      [255, 119, 119],
      [51, 51, 51],
      [119, 119, 119],
      [170, 255, 102],
      [0, 136, 255],
      [187, 187, 187],
    ],
  },
  {
    id: "websafe16",
    name: "Web Safe (16)",
    colors: [
      [0, 0, 0],
      [128, 0, 0],
      [0, 128, 0],
      [128, 128, 0],
      [0, 0, 128],
      [128, 0, 128],
      [0, 128, 128],
      [192, 192, 192],
      [128, 128, 128],
      [255, 0, 0],
      [0, 255, 0],
      [255, 255, 0],
      [0, 0, 255],
      [255, 0, 255],
      [0, 255, 255],
      [255, 255, 255],
    ],
  },
];

export const findPalette = (id: string | null): PaletteDef | null => {
  if (!id) return null;
  return predefinedPalettes.find((p) => p.id === id) || null;
};
